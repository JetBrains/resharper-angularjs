Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      RepeatExpression
        IReferenceExpression
          Identifier(type:IDENTIFIER, text:foo)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        IReferenceExpression
          IIdentifierExpression
            Identifier(type:IDENTIFIER, text:bar)

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      ICompoundExpression - AngularJsRepeatExpression
        IBinaryExpression
          IParenthesizedExpression
            JavaScriptTokenType+LparenTokenElement(type:LPAREN, text:()
            ICompoundExpression
              IReferenceExpression
                IIdentifierExpression
                  Identifier(type:IDENTIFIER, text:key)
              JavaScriptTokenType+CommaTokenElement(type:COMMA, text:,)
              Whitespace(type:WHITE_SPACE, text: ) spaces:" "
              IReferenceExpression
                IIdentifierExpression
                  Identifier(type:IDENTIFIER, text:value)
            JavaScriptTokenType+RparenTokenElement(type:RPAREN, text:))
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          IReferenceExpression
            IIdentifierExpression
              Identifier(type:IDENTIFIER, text:bar)

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      RepeatExpression
        IReferenceExpression
          Identifier(type:IDENTIFIER, text:foo)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
        ErrorElement:Identifier expected

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      ICompoundExpression - AngularJsRepeatExpression
        IBinaryExpression
          IParenthesizedExpression
            JavaScriptTokenType+LparenTokenElement(type:LPAREN, text:()
            ICompoundExpression
              IReferenceExpression
                IIdentifierExpression
                  Identifier(type:IDENTIFIER, text:key)
              JavaScriptTokenType+CommaTokenElement(type:COMMA, text:,)
              Whitespace(type:WHITE_SPACE, text: ) spaces:" "
              IReferenceExpression
                IIdentifierExpression
                  Identifier(type:IDENTIFIER, text:value)
            JavaScriptTokenType+RparenTokenElement(type:RPAREN, text:))
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
          ErrorElement:Identifier expected

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      ICompoundExpression - AngularJsRepeatExpression
        IParenthesizedExpression
          JavaScriptTokenType+LparenTokenElement(type:LPAREN, text:()
          ICompoundExpression
            IReferenceExpression
              IIdentifierExpression
                Identifier(type:IDENTIFIER, text:key)
          ErrorElement:) expected
      ErrorElement:; expected
    Whitespace(type:WHITE_SPACE, text: ) spaces:" "
    IExpressionStatement
      ICompoundExpression
        IReferenceExpression
          IIdentifierExpression
            Identifier(type:IDENTIFIER, text:value)
      ErrorElement:; is expected
        JavaScriptTokenType+RparenTokenElement(type:RPAREN, text:))
    Whitespace(type:WHITE_SPACE, text: ) spaces:" "
    ErrorElement:Unexpected token
      JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
    Whitespace(type:WHITE_SPACE, text: ) spaces:" "
    IExpressionStatement
      ICompoundExpression
        IReferenceExpression
          IIdentifierExpression
            Identifier(type:IDENTIFIER, text:bar)

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      ICompoundExpression - AngularJsRepeatExpression
        IBinaryExpression
          IParenthesizedExpression
            JavaScriptTokenType+LparenTokenElement(type:LPAREN, text:()
            ICompoundExpression
              IReferenceExpression
                IIdentifierExpression
                  Identifier(type:IDENTIFIER, text:key)
                  - expecting comma
            JavaScriptTokenType+RparenTokenElement(type:RPAREN, text:))
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          IReferenceExpression
            IIdentifierExpression
              Identifier(type:IDENTIFIER, text:bar)

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      ICompoundExpression - AngularJsRepeatExpression
        IBinaryExpression
          IParenthesizedExpression
            JavaScriptTokenType+LparenTokenElement(type:LPAREN, text:()
            ICompoundExpression
              IReferenceExpression
                IIdentifierExpression
                  Identifier(type:IDENTIFIER, text:key)
              JavaScriptTokenType+CommaTokenElement(type:COMMA, text:,)
              ErrorElement:Identifier expected
            JavaScriptTokenType+RparenTokenElement(type:RPAREN, text:))
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          IReferenceExpression
            IIdentifierExpression
              Identifier(type:IDENTIFIER, text:bar)

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      ICompoundExpression - AngularJsRepeatExpression
        IBinaryExpression
          IParenthesizedExpression
            JavaScriptTokenType+LparenTokenElement(type:LPAREN, text:()
            ICompoundExpression
              ErrorElement:Identifier expected
              JavaScriptTokenType+CommaTokenElement(type:COMMA, text:,)
              Whitespace(type:WHITE_SPACE, text: ) spaces:" "
              IReferenceExpression
                IIdentifierExpression
                  Identifier(type:IDENTIFIER, text:value)
            JavaScriptTokenType+RparenTokenElement(type:RPAREN, text:))
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          IReferenceExpression
            IIdentifierExpression
              Identifier(type:IDENTIFIER, text:bar)

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      RepeatExpression
        IReferenceExpression
          Identifier(type:IDENTIFIER, text:foo)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        IBinaryExpression
          IReferenceExpression
            IIdentifierExpression
              Identifier(type:IDENTIFIER, text:bar)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          JavaScriptTokenType+PipeTokenElement(type:PIPE, text:|)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          IReferenceExpression - AngularJsFilterExpression
            IIdentifierExpression
              Identifier(type:IDENTIFIER, text:some)

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      RepeatExpression
        IReferenceExpression
          Identifier(type:IDENTIFIER, text:foo)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        IBinaryExpression
          IReferenceExpression
            IIdentifierExpression
              Identifier(type:IDENTIFIER, text:bar)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          JavaScriptTokenType+PipeTokenElement(type:PIPE, text:|)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          IReferenceExpression - AngularJsFilterExpression
            IIdentifierExpression
              Identifier(type:IDENTIFIER, text:some)
    ErrorElement:Unexpected token - shouldn't be error
      JavaScriptTokenType+ColonTokenElement(type:COLON, text::)
    IExpressionStatement
      ICompoundExpression
        IReferenceExpression
          IIdentifierExpression
            Identifier(type:IDENTIFIER, text:q)

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      ICompoundExpression - AngularJsRepeatExpression
        IBinaryExpression
          IBinaryExpression
            IParenthesizedExpression
              JavaScriptTokenType+LparenTokenElement(type:LPAREN, text:()
              ICompoundExpression
                IReferenceExpression
                  IIdentifierExpression
                    Identifier(type:IDENTIFIER, text:key)
                JavaScriptTokenType+CommaTokenElement(type:COMMA, text:,)
                Whitespace(type:WHITE_SPACE, text: ) spaces:" "
                IReferenceExpression
                  IIdentifierExpression
                    Identifier(type:IDENTIFIER, text:value)
              JavaScriptTokenType+RparenTokenElement(type:RPAREN, text:))
            Whitespace(type:WHITE_SPACE, text: ) spaces:" "
            JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
            Whitespace(type:WHITE_SPACE, text: ) spaces:" "
            IReferenceExpression - binary expression
              IIdentifierExpression
                Identifier(type:IDENTIFIER, text:bar)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          JavaScriptTokenType+PipeTokenElement(type:PIPE, text:|)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          IReferenceExpression - AngularJsFilterExpression
            IIdentifierExpression
              Identifier(type:IDENTIFIER, text:some)

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      ICompoundExpression - AngularJsRepeatExpression
        IBinaryExpression
          IBinaryExpression
            IParenthesizedExpression
              JavaScriptTokenType+LparenTokenElement(type:LPAREN, text:()
              ICompoundExpression
                IReferenceExpression
                  IIdentifierExpression
                    Identifier(type:IDENTIFIER, text:key)
                JavaScriptTokenType+CommaTokenElement(type:COMMA, text:,)
                Whitespace(type:WHITE_SPACE, text: ) spaces:" "
                IReferenceExpression
                  IIdentifierExpression
                    Identifier(type:IDENTIFIER, text:value)
              JavaScriptTokenType+RparenTokenElement(type:RPAREN, text:))
            Whitespace(type:WHITE_SPACE, text: ) spaces:" "
            JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
            Whitespace(type:WHITE_SPACE, text: ) spaces:" "
            IReferenceExpression - binary expression
              IIdentifierExpression
                Identifier(type:IDENTIFIER, text:bar)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          JavaScriptTokenType+PipeTokenElement(type:PIPE, text:|)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          IReferenceExpression - AngularJsFilterExpression
            IIdentifierExpression
              Identifier(type:IDENTIFIER, text:some)
      ErrorElement:; is expected - shouldn't be error
        JavaScriptTokenType+ColonTokenElement(type:COLON, text::)
    IExpressionStatement
      ICompoundExpression
        IReferenceExpression
          IIdentifierExpression
            Identifier(type:IDENTIFIER, text:q)

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      RepeatExpression
        IReferenceExpression
          Identifier(type:IDENTIFIER, text:foo)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        IReferenceExpression
          IIdentifierExpression
            Identifier(type:IDENTIFIER, text:bar)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        AngularJsTokenType+TrackByKeywordTokenElement(type:TRACK_BY_KEYWORD, text:track by)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        IReferenceExpression
          IIdentifierExpression
            Identifier(type:IDENTIFIER, text:id)

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      RepeatExpression
        IReferenceExpression
          Identifier(type:IDENTIFIER, text:foo)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        IBinaryExpression
          IReferenceExpression
            IIdentifierExpression
              Identifier(type:IDENTIFIER, text:bar)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          JavaScriptTokenType+PipeTokenElement(type:PIPE, text:|)
          Whitespace(type:WHITE_SPACE, text: ) spaces:" "
          IReferenceExpression - AngularJsFilterExpression
            IIdentifierExpression
              Identifier(type:IDENTIFIER, text:some)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        AngularJsTokenType+TrackByKeywordTokenElement(type:TRACK_BY_KEYWORD, text:track by)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        IReferenceExpression
          IIdentifierExpression
            Identifier(type:IDENTIFIER, text:id)

Language: PsiLanguageType:AngularJS
IJavaScriptFile
  IJavaScriptFileSection
    IExpressionStatement
      RepeatExpression
        IReferenceExpression
          Identifier(type:IDENTIFIER, text:foo)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        JavaScriptTokenType+InKeywordTokenElement(type:IN_KEYWORD, text:in)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        IReferenceExpression
          IIdentifierExpression
            Identifier(type:IDENTIFIER, text:bar)
        Whitespace(type:WHITE_SPACE, text: ) spaces:" "
        AngularJsTokenType+TrackByKeywordTokenElement(type:TRACK_BY_KEYWORD, text:track by)
        ErrorElement:Identifier expected

